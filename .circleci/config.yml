version: 2.1
jobs:
  build:
    working_directory: ~/repo
    docker:
      - image: circleci/node:10.16.3
    steps:
      - checkout
      - run:
          name: install 
          command: "sudo npm install --safe"
      - run:
          name: install supertest
          command: "sudo npm install supertest -g"
      - run:
          name: install mocha
          command: "sudo npm install mocha -g"
      - run:
          name: install chai
          command: "sudo npm install chai -g"
      - run:
          name: install joi          
          command: "sudo npm install joi -g"
      - run:
          name: install mochawesome
          command: "sudo npm install mochawesome -g"
      - run:
          name: install faker
          command: "sudo npm install @faker-js/faker -g"
      - run:
          name: test
          command: "npm run exec_test"
